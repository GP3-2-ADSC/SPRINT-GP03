<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/cadastro.css">
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon">
    <script src="./js/funcoes.js"></script>

    <title>Retria | Cadastro</title>
</head>

<body>
    <div class="header-background">
        <div id="header" class="header-container row">
            <a href="./index.html"><img class="logo-header" src="./assets/testelogoSprint copiar.png"
                    alt="Logo azul da Retria" width="140px"></a>

            <div class="navbar">
                <ul>
                    <li><a href="./index.html" class="link">Início</a></li>
                    <li><a href="./index.html#servicos" class="link">Serviços</a></li>
                    <li><a href="./cadastro.html" class="link">Cadastro</a></li>
                    <li><a href="./login.html" class="link">Login</a></li>
                </ul>
            </div>
            <span class="menu" onclick="openClose(1)">&#9776;</span>
        </div>
    </div>

    <div id="myNav" class="overlay">
        <a href="javascript:void(0)" class="closebtn " onclick="openClose(0)">&times;</a>
        <div class="overlay-content">
            <a href="./index.html">Início</a>
            <a href="./index.html#servicos">Serviços</a>
            <a href="./cadastro.html">Cadastro</a>
            <a href="./login.html">Login</a>
        </div>
    </div>

    <div class="background center">
        <div class="container">
            <div class="alerta_erro">
                <div class="card_erro" id="cardErro">
                    <span id="mensagem_erro"></span>
                </div>
            </div>
            <div class="caixa-formulario" id="caixaFormulario">
                <div class="campo">
                    <h2>Junte-se a nós</h2>
                    <h4>Faça o cadastro e tenha acesso a todas as inovações para seu negócio</h4>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_empresa">Nome da Empresa
                            <input type="text" placeholder="Digite o nome da empresa" id="in_empresa">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_cnpj">CNPJ da Empresa
                            <input type="text" placeholder="Digite o CNPJ da empresa" id="in_cnpj">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_telefone_1">Celular / Telefone (1)
                            <input type="text" placeholder="Digite o telefone" id="in_telefone_1">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_telefone_2">Celular / Telefone (2)
                            <input type="text" placeholder="Digite o telefone" id="in_telefone_2">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>

                <div class="linha">
                    <div class="campo">
                        <label for="in_email">Email
                            <input type="text" placeholder="Digite o email" id="in_email">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                    <div class="campo">
                        <label for="in_resp"> Responsável
                            <input type="text" placeholder="Responsável pelo empresa" id="in_resp">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>

                <!-- <div class="linha">
                    <div class="campo">
                        <label for="senha">Criar uma senha
                            <input type="password" placeholder="Digite sua senha" id="in_senha">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                    <div class="campo">
                        <label for="conf_senha"> Confirmar senha
                            <input type="password" placeholder="Confirme sua senha" id="in_confirmacao">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div> -->

                <div class="ponto">
                    <span class="dot" style="background-color:#8cccf0;"></span>
                    <span class="dot"></span>
                </div>
                <button class="button" onclick="nextPage(1)">Próximo</button>
            </div>
            <div id="div_aguardar" class="loading-div">
                <img src="./assets/circle-loading.gif" id="loading-gif">
            </div>

            <div id="div_erros_login">

            </div>
        </div>
    </div>
</body>

</html>
<script src="./js/transicao.js"></script>
<script src="./js/cadastro.js"></script>

<script>
    let empresaStorage = [];
    let enderecoStorage = [];

    function getStorage() {
        console.log("Estou no storage da empresa!");
        console.log(empresaStorage);

        in_empresa.value = empresaStorage[0];
        in_cnpj.value = empresaStorage[1];
        in_telefone_1.value = empresaStorage[2];
        in_telefone_2.value = empresaStorage[3];
        in_email.value = empresaStorage[4];
        in_resp.value = empresaStorage[5];

    }

    function getStorageEnd() {
        console.log("Estou no storage do endereco!");
        console.log(empresaStorage);

        in_cep.value = enderecoStorage[0];
        in_logradouro.value = enderecoStorage[1];
        in_numero.value = enderecoStorage[2];
        in_bairro.value = enderecoStorage[3];
        in_cidade.value = enderecoStorage[4];
        in_complemento.value = enderecoStorage[5];
    }

    function nextPage(n) {

        if (n == 1) {
            let nomeEmpresa = in_empresa.value;
            let cnpj = in_cnpj.value;
            let tel1 = in_telefone_1.value;
            let tel2 = in_telefone_2.value;
            let email = in_email.value;
            let resp = in_resp.value;

            empresaStorage.push(nomeEmpresa);
            empresaStorage.push(cnpj);
            empresaStorage.push(tel1);
            empresaStorage.push(tel2);
            empresaStorage.push(email);
            empresaStorage.push(resp);

            let campoVazio = nomeEmpresa == "" || cnpj == "" || tel1 == "" || tel2 == "" || email == "" || resp == "";

            if (campoVazio) {
                cardErro.style.display = "block"
                mensagem_erro.innerHTML = "(Mensagem de erro para todos os campos em branco)";

                finalizarAguardar();
                return false;
            }
            else {
                plotarNovaPagina();
            }

        } else {
            caixaFormulario.innerHTML = ``;
            caixaFormulario.innerHTML = `
            <div class="campo">
                    <h2>Junte-se a nós</h2>
                    <h4>Faça o cadastro e tenha acesso a todas as inovações para seu negócio</h4>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_empresa">Nome da Empresa
                            <input type="text" placeholder="Digite o nome da empresa" id="in_empresa">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_cnpj">CNPJ da Empresa
                            <input type="text" placeholder="Digite o CNPJ da empresa" id="in_cnpj">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_telefone_1">Celular / Telefone (1)
                            <input type="text" placeholder="Digite o telefone" id="in_telefone_1">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_telefone_2">Celular / Telefone (2)
                            <input type="text" placeholder="Digite o telefone" id="in_telefone_2">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>

                <div class="linha">
                    <div class="campo">
                        <label for="in_email">Email
                            <input type="text" placeholder="Digite o email" id="in_email">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                    <div class="campo">
                        <label for="in_resp"> Responsável
                            <input type="text" placeholder="Responsável pelo empresa" id="in_resp">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>

                <!-- <div class="linha">
                    <div class="campo">
                        <label for="senha">Criar uma senha
                            <input type="password" placeholder="Digite sua senha" id="in_senha" 
                            oninput="PasswordValidate()"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                    <div class="campo">
                        <label for="conf_senha"> Confirmar senha
                            <input type="password" placeholder="Confirme sua senha" id="in_confirmacao" oninput="comparePassword()" class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div> -->
                <div class="ponto">
                    <span class="dot" style="background-color:#8cccf0;"></span>
                    <span class="dot"></span>
                </div>
                <button class="button" onclick="nextPage(1)">Próximo</button>
            `;
            getStorage();
        }

    }

    function plotarNovaPagina() {

        caixaFormulario.innerHTML = "";
        caixaFormulario.innerHTML = `

                <div class="campo">
                    <h2>Junte-se a nós</h2>
                    <h4>Finalize o cadastro e obtenha acesso a seu aba de monitoramento</h4>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_cep">CEP
                            <input type="text" placeholder="Digite seu CEP" id="in_cep"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_logradouro">logradouro
                            <input type="text" placeholder="Digite sua logradouro" id="in_logradouro"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>
                <div class="linha">
                    <div class="campo">
                        <label for="in_numero">Numero
                            <input type="number" placeholder="Digite o numero" id="in_numero"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>

                    <div class="campo">
                        <label for="in_bairro">Bairro
                            <input type="text" placeholder="Digite o bairro" id="in_bairro"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>

                <div class="linha">
                    <div class="campo">
                        <label for="in_cidade">Cidade
                            <input type="text" placeholder="Digite a cidade" id="in_cidade"  class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                    <div class="campo">
                        <label for="in_estado">Estado
                            <input type="text" placeholder="Digite o estado" id="in_estado" class="required">
                            <span class="span-required">Campo inválido</span>
                        </label>
                    </div>
                </div>
                <div class="linha">
                    <div class="campo">
                            <label for="in_complemento">Complemento
                                <input type="text" placeholder="Digite o complemento" id="in_complemento"  class="required">
                                <span class="span-required">Campo inválido</span>
                            </label>
                    </div>
                </div>

                <div class="ponto">
                    <span class="dot"></span>
                    <span class="dot" style="background-color:#8cccf0;"></span>
                </div>

                <div class="linha">
                    <button class="button" onclick="nextPage(2)">Voltar</button>
                    <button class="button" onclick = "cadastrarDados()">Cadastrar</button>
                </div>
           `

    }

    function cadastrarDados() {
        cadastrar(empresaStorage);
        cadastrarEndereco();
    }

</script>